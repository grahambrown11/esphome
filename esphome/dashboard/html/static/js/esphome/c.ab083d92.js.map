{"version":3,"file":"c.ab083d92.js","sources":["../../../../src/logs/logs-dialog.ts"],"sourcesContent":["import { LitElement, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport \"@material/mwc-button\";\nimport \"@material/mwc-list/mwc-list-item.js\";\nimport \"../components/remote-process\";\nimport \"../components/process-dialog\";\nimport \"../components/esphome-svg-icon\";\nimport { openLogsDialog } from \".\";\nimport { esphomeDialogStyles } from \"../styles\";\nimport { mdiRefresh } from \"@mdi/js\";\n\n@customElement(\"esphome-logs-dialog\")\nclass ESPHomeLogsDialog extends LitElement {\n  @property() public configuration!: string;\n  @property() public target!: string;\n\n  @state() private _result?: number;\n\n  protected render() {\n    return html`\n      <esphome-process-dialog\n        always-show-close\n        .heading=${`Logs ${this.configuration}`}\n        .type=${\"logs\"}\n        .spawnParams=${{ configuration: this.configuration, port: this.target }}\n        @closed=${this._handleClose}\n        @process-done=${this._handleProcessDone}\n      >\n        ${this._result === undefined || this._result === 0\n          ? \"\"\n          : html`\n              <mwc-button\n                slot=\"secondaryAction\"\n                dialogAction=\"close\"\n                label=\"Retry\"\n                @click=${this._handleRetry}\n              >\n                <esphome-svg-icon\n                  slot=\"icon\"\n                  .path=${mdiRefresh}\n                ></esphome-svg-icon>\n              </mwc-button>\n            `}\n      </esphome-process-dialog>\n    `;\n  }\n\n  private _handleProcessDone(ev: { detail: number }) {\n    this._result = ev.detail;\n  }\n\n  private _handleRetry() {\n    openLogsDialog(this.configuration, this.target);\n  }\n\n  private _handleClose() {\n    this.parentNode!.removeChild(this);\n  }\n\n  static styles = [esphomeDialogStyles];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"esphome-logs-dialog\": ESPHomeLogsDialog;\n  }\n}\n"],"names":["ESPHomeLogsDialog","LitElement","render","html","this","configuration","port","target","_handleClose","_handleProcessDone","undefined","_result","_handleRetry","mdiRefresh","ev","detail","openLogsDialog","parentNode","removeChild","styles","esphomeDialogStyles","__decorate","property","prototype","state","customElement"],"mappings":"8NAYA,IAAMA,EAAN,cAAgCC,EAMpBC,SACR,OAAOC,CAAI;;;mBAGI,QAAQC,KAAKC;gBAChB;uBACO,CAAEA,cAAeD,KAAKC,cAAeC,KAAMF,KAAKG;kBACrDH,KAAKI;wBACCJ,KAAKK;;eAEFC,IAAjBN,KAAKO,SAA0C,IAAjBP,KAAKO,QACjC,GACAR,CAAI;;;;;yBAKSC,KAAKQ;;;;0BAIJC;;;;;KAMvB,CAEOJ,mBAAmBK,GACzBV,KAAKO,QAAUG,EAAGC,MACnB,CAEOH,eACNI,EAAeZ,KAAKC,cAAeD,KAAKG,OACzC,CAEOC,eACNJ,KAAKa,WAAYC,YAAYd,KAC9B,GAEMJ,EAAAmB,OAAS,CAACC,GA9CEC,EAAA,CAAlBC,KAAyCtB,EAAAuB,UAAA,qBAAA,GACvBF,EAAA,CAAlBC,KAAkCtB,EAAAuB,UAAA,cAAA,GAElBF,EAAA,CAAhBG,KAAiCxB,EAAAuB,UAAA,eAAA,GAJ9BvB,EAAiBqB,EAAA,CADtBI,EAAc,wBACTzB"}